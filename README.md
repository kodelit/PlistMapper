# XcodeTemplatesMapper
CommandLine tool to map plist files to other formats allowing better analysis and improves readability

*The inspiration and main application of the tool is mapping the definition of xcode project templates (TemplateInfo.plist files) to analyze how they are built.*

### Maps to:

- [x] markdown
	- [x] Xcode project template descriptions (`TemplateInfo.plist` -> **`<output>/Template Name.md`**)
		- [x] link to original TemplateInfo.plist
		- [x] link to template directory
		- [x] links to descriptions, directories and plists of all ancestors

		> Examples:  [Core Data Cocoa Touch App.md](Output/Core%20Data%20Cocoa%20Touch%20App.md), [Cocoa Touch App Base.md](Output/Cocoa%20Touch%20App%20Base.md), [**Single View App.md**](Output/Single%20View%20App.md)
	
	- [x] Xcode project template combined description (`TemplateInfo.plist` -> **`<output>/Template Name Combined.md`**)  
		Selected template info combined with its ancestors. Contains all definitions, options, etc. merged in to one file.
		> Example: [**Single View App Combined.md**](Output/Single%20View%20App%20Combined.md)
	
	- [ ] Other cases

		
- [x] Mindmap (freemind format) - visualize inheritance of plists:
	- [x] Xcode template inheritance mind maps
		- [x] FreeMind format (`TemplateInfo.plist` -> **`<output>/Template Name Inheritance Map.mm`**)
		- [x] [XMind](https://www.xmind.net) format (`TemplateInfo.plist` -> **`<output>/Template Name Inheritance Map.xmind`**)  
			xmind mind map contains links to descriptions for every template
			
		![Xmind](Docs/inherit_thumbnail.png)
		
	- [x] Xcode tempate full map
		- [x] [XMind](https://www.xmind.net) format (`TemplateInfo.plist` -> **`<output>/Template Name Full Map.xmind`**)  
		
		![Xmind](Docs/full_thumbnail.png)
		
	- [x] Xcode template inheritance flat map
		- [x] [XMind](https://www.xmind.net) format (`TemplateInfo.plist` -> **`<output>/Template Name Flat Map.xmind`**)
		
		![Xmind](Docs/flat_thumbnail.png)
		
	- [ ] Other cases

### Arguments
- `--output <dir>`
	
	Allows to provide custom output dir, default is the script directory

- `--xcode-proj-template <template_identifier>|<template name>`

	Makes the tool generate markdown files describing:
	
	- template defined using its identifier (TemplateInfo.plist:Identifier) or its name
	- all ancestors of the template
	- template combined with its ancestors

	and mind map file to visualise:
	
	- whole tree of selected template
	- inheritance tree of selected template (simplified with only templates names)
	- inheritance flat map of selected template

	**If this argument is not defined there will be descriptions generated for every known template, but without mind maps.**
	
	Check argumetnts of scheme `XcodeTemplateAncestorsMapping` for example
	
- `--skip-merging-combined-options`

	Allows to skip merging options in combined describtion (*Template Name Combined.md*). 
	
	By default (without the argument):
	- Options are merged with other options with the same value for key `Identifier`.
	- Options without `Identifier` key are merged all together.
	
	Merged options are more readable.
	
	Merging however can be skipped which cause that all definitons from deferent templates (like ancestors) are added separately to the options list and ordered in order of inheritance, so there can be more then one option with the same id but deferent settings. This however allows to make sure that merging did not destroy anything but by cost of readability.

---

There are several schemes in xcode project, which are providing example of using arguments of the script in section `Run/Arguments` of the scheme settings

If tool is run from xcode with arguments provided in the scheme settings all files generated by sheme `XcodeTemplateAncestorsMapping` or `XcodeAllTemplatesMapping` can be found in the directory `Output` located in project directory

---
### Running on Xcode 10.2 and macOS < 10.14.4

To fire this code on Xcode 10.2 and macOS < 10.14.4 you need to install *Swift 5 Runtime Support for Command Line Tools*,
you can download it from [developer.apple.com](https://developer.apple.com/download/more/) 

### Tool Apps
On these I test and view generated files:

- [MacDown](MacDown) - markdown editor
- [XMind](https://www.xmind.net) - mind map editor. I use [XMind 8](https://www.xmind.net/xmind8-pro/), in [ZMind ZEN](https://www.xmind.net/zen/) links in generated mind map might not work.
	
	XMind is paid app, XMind 8 is expensive but available among other interesting apps through [Setapp](https://setapp.com) for reasonable price
